"use strict";(self.webpackChunkadvantageweb=self.webpackChunkadvantageweb||[]).push([[7001],{2187:(I,A,s)=>{s.d(A,{c:()=>Z});var _=s(6814),c=s(1054),f=s(2868),i=s(5879);function r(m,g){if(1&m&&(i.TgZ(0,"div"),i.ALo(1,"avatarBg"),i.TgZ(2,"span"),i._uU(3),i.ALo(4,"avatarName"),i.qZA()()),2&m){const e=i.oxw();i.Gre("user-avatar  d-none d-sm-flex ",i.lcZ(1,4,""),""),i.xp6(3),i.hij("",i.lcZ(4,6,e.fullName)," ")}}function p(m,g){if(1&m&&(i.TgZ(0,"span"),i._UZ(1,"br"),i.TgZ(2,"span"),i._uU(3),i.qZA()()),2&m){const e=i.oxw();i.xp6(3),i.Oqu(e.otherFieldName)}}let Z=(()=>{var m;class g{constructor(){this.showAvatar=!0}ngOnInit(){}}return(m=g).\u0275fac=function(h){return new(h||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-full-name"]],inputs:{fullName:"fullName",otherFieldName:"otherFieldName",showAvatar:"showAvatar"},standalone:!0,features:[i.jDz],decls:7,vars:3,consts:[[1,"user-card"],[3,"class",4,"ngIf"],[1,"user-info"],[1,"text-black"],[1,"dot","dot-success","d-md-none","ms-1"],[4,"ngIf"]],template:function(h,T){1&h&&(i.TgZ(0,"div",0),i.YNc(1,r,5,8,"div",1),i.TgZ(2,"div",2)(3,"span",3),i._uU(4),i._UZ(5,"span",4),i.qZA(),i.YNc(6,p,4,1,"span",5),i.qZA()()),2&h&&(i.xp6(1),i.Q6J("ngIf",T.showAvatar),i.xp6(3),i.hij(" ",T.fullName," "),i.xp6(2),i.Q6J("ngIf",T.otherFieldName))},dependencies:[_.ez,_.O5,c.b,f.M],encapsulation:2}),g})()},1054:(I,A,s)=>{s.d(A,{b:()=>c});var _=s(5879);let c=(()=>{var f;class i{transform(p){const Z=["bg-info-dim","bg-warning-dim","bg-primary-dim","bg-success-dim","bg-danger-dim","bg-purple-dim","bg-indigo-dim"];return Z[Math.floor(Math.random()*Z.length)]}}return(f=i).\u0275fac=function(p){return new(p||f)},f.\u0275pipe=_.Yjl({name:"avatarBg",type:f,pure:!0,standalone:!0}),i})()},2868:(I,A,s)=>{s.d(A,{M:()=>c});var _=s(5879);let c=(()=>{var f;class i{transform(p){if(!p)return"NF";const Z=p.split(" ");let m=Z[0],g=Z[1];return g?(m.charAt(0)+""+g.charAt(0)).toUpperCase():m.slice(0,2).toUpperCase()}}return(f=i).\u0275fac=function(p){return new(p||f)},f.\u0275pipe=_.Yjl({name:"avatarName",type:f,pure:!0,standalone:!0}),i})()},1085:(I,A,s)=>{s.d(A,{e:()=>c});var _=s(5879);let c=(()=>{var f;class i{constructor(p,Z){this.changeDetectorRef=p,this.ngZone=Z,this.timer=null}transform(p){this.removeTimer();let Z=new Date(p),g=Math.round(Math.abs(((new Date).getTime()-Z.getTime())/1e3)),e=Number.isNaN(g)?1e3:1e3*this.getSecondsUntilUpdate(g);this.timer=this.ngZone.runOutsideAngular(()=>typeof window<"u"?window.setTimeout(()=>{this.ngZone.run(()=>this.changeDetectorRef.markForCheck())},e):null);let h=Math.round(Math.abs(g/60)),T=Math.round(Math.abs(h/60)),O=Math.round(Math.abs(T/24)),F=Math.round(Math.abs(O/30.416)),U=Math.round(Math.abs(O/365));return Number.isNaN(g)?"":g<=45?"a few seconds ago":g<=90?"a minute ago":h<=45?h+" minutes ago":h<=90?"an hour ago":T<=22?T+" hours ago":T<=36?"a day ago":O<=25?O+" days ago":O<=45?"a month ago":O<=345?F+" months ago":O<=545?"a year ago":U+" years ago"}ngOnDestroy(){this.removeTimer()}removeTimer(){this.timer&&(window.clearTimeout(this.timer),this.timer=null)}getSecondsUntilUpdate(p){return p<60?2:p<3600?30:p<86400?300:3600}}return(f=i).\u0275fac=function(p){return new(p||f)(_.Y36(_.sBO,16),_.Y36(_.R0b,16))},f.\u0275pipe=_.Yjl({name:"timeAgo",type:f,pure:!1,standalone:!0}),i})()},7001:(I,A,s)=>{s.r(A),s.d(A,{OccupantsComponent:()=>Se});var _=s(5861),c=s(6814),f=s(3519),i=s.n(f),r=s(95),p=s(1392),Z=s(5176),m=s(2458),g=s(8624),e=s(5879),h=s(995),T=s(3221),O=s(2735),F=s(1693),U=s(6763);let Q=(()=>{var o;class l{}return(o=l).\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-email-not-valid"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(a,n){1&a&&e._uU(0," * Invalid email address ")},dependencies:[c.ez],encapsulation:2}),l})();var D=s(6593),N=s(6842),q=s(7177),w=s(4981),J=s(7236),B=s(1449);function x(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}const v=function(o){return{"is-invalid":o}};function Y(o,l){if(1&o&&(e.TgZ(0,"li")(1,"div",63),e._UZ(2,"input",64),e.TgZ(3,"label",65),e._uU(4),e.qZA()()()),2&o){const t=l.$implicit,a=e.oxw();e.xp6(2),e.s9C("value",t.dataValue),e.Q6J("id",t.dataValue)("ngClass",e.VKq(5,v,((null==a.personalInfoForm.occupantType?null:a.personalInfoForm.occupantType.touched)||(null==a.personalInfoForm.occupantType?null:a.personalInfoForm.occupantType.dirty))&&!(null!=a.personalInfoForm.occupantType&&a.personalInfoForm.occupantType.valid))),e.xp6(1),e.s9C("for",t.dataValue),e.xp6(1),e.Oqu(t.dataLabel)}}function E(o,l){1&o&&(e.TgZ(0,"div",66),e._UZ(1,"app-required-field"),e.qZA())}function P(o,l){if(1&o&&(e.TgZ(0,"li")(1,"div",63),e._UZ(2,"input",67),e.TgZ(3,"label",65),e._uU(4),e.qZA()()()),2&o){const t=l.$implicit,a=e.oxw();e.xp6(2),e.s9C("value",t.dataValue),e.Q6J("id",t.dataValue)("ngClass",e.VKq(5,v,((null==a.personalInfoForm.gender?null:a.personalInfoForm.gender.touched)||(null==a.personalInfoForm.gender?null:a.personalInfoForm.gender.dirty))&&!(null!=a.personalInfoForm.gender&&a.personalInfoForm.gender.valid))),e.xp6(1),e.s9C("for",t.dataValue),e.xp6(1),e.Oqu(t.dataLabel)}}function K(o,l){1&o&&(e.TgZ(0,"div",66),e._UZ(1,"app-required-field"),e.qZA())}function R(o,l){1&o&&(e.TgZ(0,"span"),e._UZ(1,"app-required-field"),e.qZA())}function L(o,l){if(1&o&&(e.TgZ(0,"option",68),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("value",t.dataValue),e.xp6(1),e.hij(" ",t.dataLabel," ")}}function V(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function G(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function j(o,l){if(1&o&&(e.TgZ(0,"option",68),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("value",t.dataValue),e.xp6(1),e.hij(" ",t.dataLabel," ")}}function $(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function W(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function z(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function H(o,l){1&o&&(e.TgZ(0,"div"),e._uU(1," * Invalid mobile number "),e.qZA())}function X(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function ee(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function ne(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function oe(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function te(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function ae(o,l){1&o&&(e.TgZ(0,"div"),e._uU(1," * Invalid mobile number "),e.qZA())}function le(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function ie(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-email-not-valid"),e.qZA())}function re(o,l){if(1&o&&(e.TgZ(0,"option",68),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.Q6J("value",t.dataValue),e.xp6(1),e.hij(" ",t.dataLabel," ")}}function se(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function ue(o,l){if(1&o&&(e.TgZ(0,"li")(1,"div",70),e._UZ(2,"input",71),e.TgZ(3,"label",72),e._uU(4),e.qZA()()()),2&o){const t=l.$implicit;e.xp6(2),e.s9C("value",t.dataValue),e.Q6J("id",t.dataValue),e.xp6(1),e.s9C("for",t.dataValue),e.xp6(1),e.Oqu(t.dataLabel)}}function de(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-required-field"),e.qZA())}function pe(o,l){if(1&o&&(e.TgZ(0,"div",69)(1,"div",24),e._UZ(2,"app-form-label",25),e.TgZ(3,"div",26)(4,"ul",31),e.YNc(5,ue,5,4,"li",32),e.qZA(),e.TgZ(6,"span",28),e.YNc(7,de,2,0,"div",29),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("labelForName","relationship")("labelName","Relationship"),e.xp6(3),e.Q6J("ngForOf",t.listOfRelationship),e.xp6(2),e.Q6J("ngIf",null==t.nokForm.relationship||null==t.nokForm.relationship.errors?null:t.nokForm.relationship.errors.required)}}function ce(o,l){1&o&&(e.ynx(0),e.TgZ(1,"div",73),e._UZ(2,"input",74),e.TgZ(3,"label",75),e._uU(4," Save & create new occupant "),e.qZA()(),e.BQk())}function me(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",43)(1,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateOccupant())}),e._uU(2," Update occupant "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.nokFormGroup.valid)("title",t.nokFormGroup.invalid?"There must be errors on the form":"")}}function fe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",43)(1,"button",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveOccupant())}),e._uU(2," Create occupant "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.nokFormGroup.valid)("title",t.nokFormGroup.invalid?"There must be errors on the form":"")}}const C=function(o,l){return{current:o,done:l}},b=function(o,l){return{"active ":o,done:l}};let ge=(()=>{var o;class l{constructor(a,n,u,d,y,k,M){this.title=a,this.addInstitutionOccupantBsModalRef=n,this.fb=u,this.accountService=d,this.alertService=y,this.logger=k,this.settingsService=M,this.currentStep=1,this.personalSubmitted=!1,this.occupantsService=(0,e.f3M)(U.k),this.accountService.currentUser.subscribe(S=>this.currentUser=S)}continueStep(){this.currentStep<=3&&this.currentStep++}previousStep(){(this.currentStep<=3||this.currentStep<=0)&&this.currentStep--}ngOnInit(){if(this.currentStep=1,this.createPersonalInfoForm(),this.createContactAddressForm(),this.createNokForm(),this.isAddMode)this.headerMsg="New individual occupant",this.title.setTitle(this.headerMsg);else if(this.headerMsg="Edit "+this.occupant.occupantName,this.title.setTitle(this.headerMsg),this.personalInformGroup.patchValue(this.occupant),this.contactAddressFormGroup.patchValue(this.occupant),this.nokFormGroup.patchValue(this.occupant),this.occupant.dateOfBirth){let a=this.occupant.dateOfBirth.toString().replace("[UTC]","");this.personalInfoForm.dateOfBirth.setValue(new Date(a))}this.addInstitutionOccupantBsModalRef.setClass("gray modal-xl modal-dialog-top"),this.listOfGenders=this.settingsService.getGender(),this.listOfMaritalStatus=this.settingsService.getMaritalStatus(),this.listOfRelationship=this.settingsService.getRelationships(),this.listOfIdTypes=this.settingsService.getIdTypes(),this.listOfOccupantTypes=this.settingsService.getOccupantType()}createPersonalInfoForm(){this.personalInformGroup=this.fb.group({occupantName:["",{updateOn:"blur",validators:[r.kI.required]}],occupantType:["",[r.kI.required]],gender:["",[r.kI.required]],dateOfBirth:["",[r.kI.required]],maritalStatus:["",[r.kI.required]],idType:["",[r.kI.required]],idNo:["",{updateOn:"blur",validators:[r.kI.required]}],occupation:["",{updateOn:"blur",validators:[r.kI.required]}],recordId:[""]})}createContactAddressForm(){this.contactAddressFormGroup=this.fb.group({mobileNo:["",{updateOn:"blur",validators:[r.kI.required,r.kI.minLength(10),r.kI.minLength(12)]}],emailAddress:["",[r.kI.required]],homeTown:["",[r.kI.required]],localAddress:["",[r.kI.required]]})}createNokForm(){this.nokFormGroup=this.fb.group({nextOfKin:["",{updateOn:"blur",validators:[r.kI.required]}],relationship:["",[r.kI.required]],nokAddress:["",{updateOn:"blur",validators:[r.kI.required]}],nokEmail:["",{updateOn:"blur",validators:[r.kI.required,r.kI.email]}],nokPhone:["",{updateOn:"blur",validators:[r.kI.required,r.kI.minLength(10),r.kI.minLength(12)]}],saveAndNew:[!1],institutional:[!1]})}get personalInfoForm(){return this.personalInformGroup.controls}get contactAddressForm(){return this.contactAddressFormGroup.controls}get nokForm(){return this.nokFormGroup.controls}saveOccupant(){let a=this.personalInfoForm.occupantName.value;i().fire({title:"Confirmation",text:`Do you want to create  ${a}?`,icon:"question",position:"top",showCancelButton:!0,confirmButtonText:"Yes, create",cancelButtonText:"No, cancel"}).then(n=>{if(n.value){if(this.alertService.clear(),this.nokFormGroup.invalid)return;let u={...this.personalInformGroup.value,...this.contactAddressFormGroup.value,...this.nokFormGroup.value};this.occupantsService.createOccupant(this.currentUser,u).subscribe({next:d=>{"000"===d.headerResponse.responseCode?(this.alertService.showSuccessMsg(`${a} created successfully`),this.nokForm.saveAndNew.value||(this.addInstitutionOccupantBsModalRef.hide(),this.accountService.reloadCurrentRoute()),this.personalInformGroup.reset(),this.contactAddressFormGroup.reset(),this.nokFormGroup.reset(),this.currentStep=1,this.logAction(`created individual occupant ${a}`,h.h.SETTINGS)):this.alertService.showErrorMsg(d.headerResponse.responseMessage)},error:d=>{this.alertService.showInfoMsg(d)}})}else i()})}updateOccupant(){let a=this.personalInfoForm.occupantName.value;i().fire({position:"top",title:"Confirmation",text:`Do you want to update ${a}?`,icon:"question",showCancelButton:!0,cancelButtonText:"No, cancel",confirmButtonText:"Yes, update"}).then(n=>{if(n.value){let u=Object.assign(this.personalInformGroup.value,this.contactAddressFormGroup.value,this.nokFormGroup.value);this.occupantsService.updateOccupant(this.currentUser,u).subscribe({next:d=>{this.logger.info("updateOccupant response:"+JSON.stringify(d)),"000"===d.headerResponse.responseCode?(this.alertService.showSuccessMsg(`${a} updated successfully`),this.addInstitutionOccupantBsModalRef.hide(),this.logAction(`Updated ${a}`,h.h.OCCUPANCY),setTimeout(()=>window.location.reload(),1500)):this.alertService.showErrorMsg(d.headerResponse.responseMessage)},error:d=>{this.alertService.showInfoMsg(d.message)}})}else i()})}logAction(a,n){var u=this;return(0,_.Z)(function*(){yield u.accountService.logUserAudit(a,n)})()}}return(o=l).\u0275fac=function(a){return new(a||o)(e.Y36(D.Dx),e.Y36(N.UZ),e.Y36(r.qu),e.Y36(q.e),e.Y36(w.c),e.Y36(J.Kf),e.Y36(B.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:219,vars:140,consts:[[1,"modal-header"],[1,"modal-title"],["type","button btn-xs","aria-label","Close",1,"close","btn-close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"card","card-bordered"],["action","#","id","stepper-create-profile","data-step-current","4","novalidate","novalidate",1,"nk-stepper","stepper-init","is-alter","nk-stepper-s1",2,"display","block"],[1,"row","g-0","col-sep","col-sep-md","col-sep-xl"],[1,"col-md-5","col-xl-5"],[1,"card-inner"],[1,"nk-stepper-nav","nk-stepper-nav-s1","stepper-nav","is-vr"],[3,"ngClass"],[1,"step-item"],[1,"step-text"],[1,"lead-text"],[1,"sub-text"],[1,"col-md-7","col-xl-7"],[1,"nk-stepper-content"],[1,"nk-stepper-steps","stepper-steps"],[1,"nk-stepper-step",3,"ngClass"],[1,"title","mb-2"],["novalidate","",3,"formGroup"],[1,"row","gy-4","mt-1"],[1,"col-sm-6"],[1,"form-group"],[3,"labelForName","labelName"],[1,"form-control-wrap"],["type","text","formControlName","occupantName","id","occupantName","autocomplete","off",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-check-label",3,"labelForName","labelName"],[1,"custom-control-group"],[4,"ngFor","ngForOf"],["class","text-danger mt-1",4,"ngIf"],["styleClass","w-100","formControlName","dateOfBirth","id","dateOfBirth","dateFormat","dd-mm-yy",3,"showIcon","ngClass"],[1,"form-control-select"],["id","maritalStatus","formControlName","maritalStatus",1,"form-control",3,"ngClass"],["value","","selected","",1,"fs-6"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","occupation","id","occupation","autocomplete","off",1,"form-control",3,"ngClass"],["id","idType","formControlName","idType",1,"form-control",3,"ngClass"],["type","text","formControlName","idNo","id","idNo","autocomplete","off",1,"form-control",3,"ngClass"],[1,"row","gx-3","align-items-center","mt-2"],[1,"col-auto"],["type","button","title","",1,"btn","btn-outline-primary","mt-4",3,"click"],["type","button","title","",1,"btn","btn-primary","mt-4",3,"disabled","click"],[1,"row","gy-3","mt-1"],["type","tel","formControlName","mobileNo","id","mobileNo","autocomplete","off",1,"form-control",3,"ngClass"],["type","email","formControlName","emailAddress","id","emailAddress","autocomplete","off",1,"form-control",3,"ngClass"],["type","text","formControlName","homeTown","id","homeTown","autocomplete","off",1,"form-control",2,"min-height","30px",3,"ngClass"],[1,"col-sm-12"],["type","text","formControlName","localAddress","id","localAddress","autocomplete","off",1,"form-control",2,"min-height","30px",3,"ngClass"],[1,"title","mb-3"],["type","text","formControlName","nextOfKin","id","nextOfKin","autocomplete","off",1,"form-control",3,"ngClass"],["type","tel","formControlName","nokPhone","id","nokPhone","autocomplete","off",1,"form-control",3,"ngClass"],["type","email","formControlName","nokEmail","id","nokEmail","autocomplete","off",1,"form-control",3,"ngClass"],["id","relationship","formControlName","relationship",1,"form-control",3,"ngClass"],["class","col-12",4,"ngIf"],[3,"labelForName","showRequired","labelName"],["type","nokAddress","formControlName","nokAddress","id","nokAddress",1,"form-control",2,"min-height","30px"],[1,"row","gx-3","align-items-center","mt-5"],["type","button","title","",1,"btn","btn-outline-primary",3,"click"],["class","col-auto",4,"ngIf"],[1,"custom-control","custom-radio","custom-control-pro","no-control"],["formControlName","occupantType","name","occupantType","type","radio",1,"custom-control-input","form-check-input",3,"id","value","ngClass"],[1,"custom-control-label","form-check-label",3,"for"],[1,"text-danger","mt-1"],["formControlName","gender","name","gender","type","radio",1,"custom-control-input","form-check-input",3,"id","value","ngClass"],[3,"value"],[1,"col-12"],[1,"custom-control","custom-radio","checked"],["type","radio","formControlName","relationship","name","relationship",1,"custom-control-input",3,"id","value"],[1,"custom-control-label",3,"for"],[1,"custom-control","custom-control-sm","custom-checkbox","checked"],["type","checkbox","formControlName","saveAndNew","id","saveAndNew",1,"custom-control-input"],["for","saveAndNew",1,"custom-control-label","fw-bolder"],[1,"btn","btn-primary",3,"disabled","title","click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"h6",1),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return null==n.addInstitutionOccupantBsModalRef?null:n.addInstitutionOccupantBsModalRef.hide()}),e.TgZ(5,"span",3),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"form",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"ul",10)(14,"li",11)(15,"div",12)(16,"div",13)(17,"div",14),e._uU(18,"Personal Information"),e.qZA(),e.TgZ(19,"div",15),e._uU(20," Personal details of occupant "),e.qZA()()()(),e.TgZ(21,"li",11)(22,"div",12)(23,"div",13)(24,"div",14),e._uU(25,"Contact & Address Details"),e.qZA(),e.TgZ(26,"div",15),e._uU(27,"Verify customer number from the operator. "),e.qZA()()()(),e.TgZ(28,"li",11)(29,"div",12)(30,"div",13)(31,"div",14),e._uU(32,"Next of Kin(NOK) Details"),e.qZA(),e.TgZ(33,"div",15),e._uU(34,"S elect service for the account or wallet. "),e.qZA()()()()()()(),e.TgZ(35,"div",16)(36,"div",9)(37,"div",17)(38,"div",18)(39,"div",19)(40,"h5",20),e._uU(41,"Personal Information"),e.qZA(),e.TgZ(42,"p"),e._uU(43," Provide your personal details of occupant "),e.qZA(),e._UZ(44,"app-required-fields-notice"),e.TgZ(45,"form",21)(46,"div",22)(47,"div",23)(48,"div",24),e._UZ(49,"app-form-label",25),e.TgZ(50,"div",26),e._UZ(51,"input",27),e.TgZ(52,"span",28),e.YNc(53,x,2,0,"div",29),e.qZA()()()(),e.TgZ(54,"div",23)(55,"div",24),e._UZ(56,"app-form-label",30),e.TgZ(57,"div",26)(58,"ul",31),e.YNc(59,Y,5,7,"li",32),e.qZA(),e.YNc(60,E,2,0,"div",33),e.qZA()()(),e.TgZ(61,"div",23)(62,"div",24),e._UZ(63,"app-form-label",30),e.TgZ(64,"div",26)(65,"ul",31),e.YNc(66,P,5,7,"li",32),e.qZA(),e.YNc(67,K,2,0,"div",33),e.qZA()()(),e.TgZ(68,"div",23)(69,"div",24),e._UZ(70,"app-form-label",25)(71,"p-calendar",34),e.TgZ(72,"span",28),e.YNc(73,R,2,0,"span",29),e.qZA()()(),e.TgZ(74,"div",23)(75,"div",24),e._UZ(76,"app-form-label",25),e.TgZ(77,"div",26)(78,"div",35)(79,"select",36)(80,"option",37),e._uU(81,"Select One "),e.qZA(),e.YNc(82,L,2,2,"option",38),e.qZA(),e.TgZ(83,"span",28),e.YNc(84,V,2,0,"div",29),e.qZA()()()()(),e.TgZ(85,"div",23)(86,"div",24),e._UZ(87,"app-form-label",25),e.TgZ(88,"div",26),e._UZ(89,"input",39),e.TgZ(90,"span",28),e.YNc(91,G,2,0,"div",29),e.qZA()()()(),e.TgZ(92,"div",23)(93,"div",24),e._UZ(94,"app-form-label",25),e.TgZ(95,"div",26)(96,"div",35)(97,"select",40)(98,"option",37),e._uU(99,"Select One "),e.qZA(),e.YNc(100,j,2,2,"option",38),e.qZA(),e.TgZ(101,"span",28),e.YNc(102,$,2,0,"div",29),e.qZA()()()()(),e.TgZ(103,"div",23)(104,"div",24),e._UZ(105,"app-form-label",25),e.TgZ(106,"div",26),e._UZ(107,"input",41),e.TgZ(108,"span",28),e.YNc(109,W,2,0,"div",29),e.qZA()()()()(),e.TgZ(110,"div",42)(111,"div",43)(112,"button",44),e.NdJ("click",function(){return null==n.addInstitutionOccupantBsModalRef?null:n.addInstitutionOccupantBsModalRef.hide()}),e._uU(113," Cancel "),e.qZA()(),e.TgZ(114,"div",43)(115,"button",45),e.NdJ("click",function(){return n.continueStep()}),e._uU(116," Continue "),e.qZA()()()()(),e.TgZ(117,"div",19)(118,"h5",20),e._uU(119,"Contact & Address Details"),e.qZA(),e.TgZ(120,"p"),e._uU(121," Provide contact and address information "),e.qZA(),e._UZ(122,"app-required-fields-notice"),e.TgZ(123,"form",21)(124,"div",46)(125,"div",23)(126,"div",24),e._UZ(127,"app-form-label",25),e.TgZ(128,"div",26),e._UZ(129,"input",47),e.TgZ(130,"span",28),e.YNc(131,z,2,0,"div",29),e.YNc(132,H,2,0,"div",29),e.qZA()()()(),e.TgZ(133,"div",23)(134,"div",24),e._UZ(135,"app-form-label",25),e.TgZ(136,"div",26),e._UZ(137,"input",48),e.TgZ(138,"span",28),e.YNc(139,X,2,0,"div",29),e.qZA()()()(),e.TgZ(140,"div",23)(141,"div",24),e._UZ(142,"app-form-label",25),e.TgZ(143,"div",26),e._UZ(144,"input",49),e.TgZ(145,"span",28),e.YNc(146,ee,2,0,"div",29),e.qZA()()()(),e.TgZ(147,"div",50)(148,"div",24),e._UZ(149,"app-form-label",25),e.TgZ(150,"div",26)(151,"textarea",51),e._uU(152,"                                                        "),e.qZA(),e.TgZ(153,"span",28),e.YNc(154,ne,2,0,"div",29),e.qZA()()()()(),e.TgZ(155,"div",42)(156,"div",43)(157,"button",44),e.NdJ("click",function(){return n.previousStep()}),e._uU(158),e.qZA()(),e.TgZ(159,"div",43)(160,"button",45),e.NdJ("click",function(){return n.continueStep()}),e._uU(161),e.qZA()()()()(),e.TgZ(162,"div",19)(163,"h5",52),e._uU(164,"Next of Kin(NOK) information"),e.qZA(),e.TgZ(165,"p"),e._uU(166," Provide next of Kin(NOK) information "),e.qZA(),e._UZ(167,"app-required-fields-notice"),e.TgZ(168,"form",21)(169,"div",46)(170,"div",23)(171,"div",24),e._UZ(172,"app-form-label",25),e.TgZ(173,"div",26),e._UZ(174,"input",53),e.TgZ(175,"span",28),e.YNc(176,oe,2,0,"div",29),e.qZA()()()(),e.TgZ(177,"div",23)(178,"div",24),e._UZ(179,"app-form-label",25),e.TgZ(180,"div",26),e._UZ(181,"input",54),e.TgZ(182,"span",28),e.YNc(183,te,2,0,"div",29),e.YNc(184,ae,2,0,"div",29),e.qZA()()()(),e.TgZ(185,"div",23)(186,"div",24),e._UZ(187,"app-form-label",25),e.TgZ(188,"div",26),e._UZ(189,"input",55),e.TgZ(190,"span",28),e.YNc(191,le,2,0,"div",29),e.YNc(192,ie,2,0,"div",29),e.qZA()()()(),e.TgZ(193,"div",23)(194,"div",24),e._UZ(195,"app-form-label",25),e.TgZ(196,"div",26)(197,"div",35)(198,"select",56)(199,"option",37),e._uU(200,"Select One "),e.qZA(),e.YNc(201,re,2,2,"option",38),e.qZA(),e.TgZ(202,"span",28),e.YNc(203,se,2,0,"div",29),e.qZA()()()()(),e.YNc(204,pe,8,4,"div",57),e.TgZ(205,"div",50)(206,"div",24),e._UZ(207,"app-form-label",58),e.TgZ(208,"div",26)(209,"textarea",59),e._uU(210,"                                                        "),e.qZA()()()(),e.TgZ(211,"div",50),e.YNc(212,ce,5,0,"ng-container",29),e.qZA()(),e.TgZ(213,"div",60)(214,"div",43)(215,"button",61),e.NdJ("click",function(){return n.previousStep()}),e._uU(216," Back "),e.qZA()(),e.YNc(217,me,3,2,"div",62),e.YNc(218,fe,3,2,"div",62),e.qZA()()()()()()()()()()()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,92,n.headerMsg)),e.xp6(12),e.Q6J("ngClass",e.WLB(94,C,1===n.currentStep,n.currentStep>1)),e.xp6(7),e.Q6J("ngClass",e.WLB(97,C,2===n.currentStep,n.currentStep>2)),e.xp6(7),e.Q6J("ngClass",e.WLB(100,C,3===n.currentStep,n.currentStep>3)),e.xp6(11),e.Q6J("ngClass",e.WLB(103,b,1===n.currentStep,2===n.currentStep)),e.xp6(6),e.Q6J("formGroup",n.personalInformGroup),e.xp6(4),e.Q6J("labelForName","occupantName")("labelName","Full Name"),e.xp6(2),e.Q6J("ngClass",e.VKq(106,v,((null==n.personalInfoForm.occupantName?null:n.personalInfoForm.occupantName.touched)||(null==n.personalInfoForm.occupantName?null:n.personalInfoForm.occupantName.dirty))&&!(null!=n.personalInfoForm.occupantName&&n.personalInfoForm.occupantName.valid))),e.xp6(2),e.Q6J("ngIf",null==n.personalInfoForm.occupantName||null==n.personalInfoForm.occupantName.errors?null:n.personalInfoForm.occupantName.errors.required),e.xp6(3),e.Q6J("labelForName","occupantType")("labelName","Occupant Type"),e.xp6(3),e.Q6J("ngForOf",n.listOfOccupantTypes),e.xp6(1),e.Q6J("ngIf",((null==n.personalInfoForm.gender?null:n.personalInfoForm.gender.touched)||(null==n.personalInfoForm.gender?null:n.personalInfoForm.gender.dirty))&&!(null!=n.personalInfoForm.gender&&n.personalInfoForm.gender.valid)),e.xp6(3),e.Q6J("labelForName","gender")("labelName","Gender"),e.xp6(3),e.Q6J("ngForOf",n.listOfGenders),e.xp6(1),e.Q6J("ngIf",((null==n.personalInfoForm.gender?null:n.personalInfoForm.gender.touched)||(null==n.personalInfoForm.gender?null:n.personalInfoForm.gender.dirty))&&!(null!=n.personalInfoForm.gender&&n.personalInfoForm.gender.valid)),e.xp6(3),e.Q6J("labelForName","dateOfBirth")("labelName","Date Of Birth"),e.xp6(1),e.Q6J("showIcon",!0)("ngClass",e.VKq(108,v,((null==n.personalInfoForm.dateOfBirth?null:n.personalInfoForm.dateOfBirth.touched)||(null==n.personalInfoForm.dateOfBirth?null:n.personalInfoForm.dateOfBirth.dirty))&&!(null!=n.personalInfoForm.dateOfBirth&&n.personalInfoForm.dateOfBirth.valid))),e.xp6(2),e.Q6J("ngIf",null==n.personalInfoForm.dateOfBirth||null==n.personalInfoForm.dateOfBirth.errors?null:n.personalInfoForm.dateOfBirth.errors.required),e.xp6(3),e.Q6J("labelForName","maritalStatus")("labelName","Marital Status"),e.xp6(3),e.Q6J("ngClass",e.VKq(110,v,((null==n.personalInfoForm.maritalStatus?null:n.personalInfoForm.maritalStatus.touched)||(null==n.personalInfoForm.maritalStatus?null:n.personalInfoForm.maritalStatus.dirty))&&(null==n.personalInfoForm.maritalStatus?null:n.personalInfoForm.maritalStatus.errors))),e.xp6(3),e.Q6J("ngForOf",n.listOfMaritalStatus),e.xp6(2),e.Q6J("ngIf",null==n.personalInfoForm.maritalStatus||null==n.personalInfoForm.maritalStatus.errors?null:n.personalInfoForm.maritalStatus.errors.required),e.xp6(3),e.Q6J("labelForName","occupation")("labelName","Occupation"),e.xp6(2),e.Q6J("ngClass",e.VKq(112,v,((null==n.personalInfoForm.occupation?null:n.personalInfoForm.occupation.touched)||(null==n.personalInfoForm.occupation?null:n.personalInfoForm.occupation.dirty))&&!(null!=n.personalInfoForm.occupation&&n.personalInfoForm.occupation.valid))),e.xp6(2),e.Q6J("ngIf",null==n.personalInfoForm.occupation||null==n.personalInfoForm.occupation.errors?null:n.personalInfoForm.occupation.errors.required),e.xp6(3),e.Q6J("labelForName","idType")("labelName","ID Type"),e.xp6(3),e.Q6J("ngClass",e.VKq(114,v,((null==n.personalInfoForm.idType?null:n.personalInfoForm.idType.touched)||(null==n.personalInfoForm.idType?null:n.personalInfoForm.idType.dirty))&&(null==n.personalInfoForm.idType?null:n.personalInfoForm.idType.errors))),e.xp6(3),e.Q6J("ngForOf",n.listOfIdTypes),e.xp6(2),e.Q6J("ngIf",null==n.personalInfoForm.idType||null==n.personalInfoForm.idType.errors?null:n.personalInfoForm.idType.errors.required),e.xp6(3),e.Q6J("labelForName","idNo")("labelName","ID Number"),e.xp6(2),e.Q6J("ngClass",e.VKq(116,v,((null==n.personalInfoForm.idNo?null:n.personalInfoForm.idNo.touched)||(null==n.personalInfoForm.idNo?null:n.personalInfoForm.idNo.dirty))&&!(null!=n.personalInfoForm.idNo&&n.personalInfoForm.idNo.valid))),e.xp6(2),e.Q6J("ngIf",null==n.personalInfoForm.idNo||null==n.personalInfoForm.idNo.errors?null:n.personalInfoForm.idNo.errors.required),e.xp6(6),e.Q6J("disabled",!n.personalInformGroup.valid),e.xp6(2),e.Q6J("ngClass",e.WLB(118,b,2===n.currentStep,3===n.currentStep)),e.xp6(6),e.Q6J("formGroup",n.contactAddressFormGroup),e.xp6(4),e.Q6J("labelForName","mobileNo")("labelName","Phone Number"),e.xp6(2),e.Q6J("ngClass",e.VKq(121,v,((null==n.contactAddressForm.mobileNo?null:n.contactAddressForm.mobileNo.touched)||(null==n.contactAddressForm.mobileNo?null:n.contactAddressForm.mobileNo.dirty))&&!(null!=n.contactAddressForm.mobileNo&&n.contactAddressForm.mobileNo.valid))),e.xp6(2),e.Q6J("ngIf",null==n.contactAddressForm.mobileNo||null==n.contactAddressForm.mobileNo.errors?null:n.contactAddressForm.mobileNo.errors.required),e.xp6(1),e.Q6J("ngIf",(null==n.contactAddressForm.mobileNo||null==n.contactAddressForm.mobileNo.errors?null:n.contactAddressForm.mobileNo.errors.minlength)||(null==n.contactAddressForm.mobileNo||null==n.contactAddressForm.mobileNo.errors?null:n.contactAddressForm.mobileNo.errors.maxlength)),e.xp6(3),e.Q6J("labelForName","emailAddress")("labelName","Email"),e.xp6(2),e.Q6J("ngClass",e.VKq(123,v,((null==n.contactAddressForm.emailAddress?null:n.contactAddressForm.emailAddress.touched)||(null==n.contactAddressForm.emailAddress?null:n.contactAddressForm.emailAddress.dirty))&&!(null!=n.contactAddressForm.emailAddress&&n.contactAddressForm.emailAddress.valid))),e.xp6(2),e.Q6J("ngIf",null==n.contactAddressForm.emailAddress||null==n.contactAddressForm.emailAddress.errors?null:n.contactAddressForm.emailAddress.errors.required),e.xp6(3),e.Q6J("labelForName","homeTown")("labelName","Home Town"),e.xp6(2),e.Q6J("ngClass",e.VKq(125,v,((null==n.contactAddressForm.homeTown?null:n.contactAddressForm.homeTown.touched)||(null==n.contactAddressForm.homeTown?null:n.contactAddressForm.homeTown.dirty))&&!(null!=n.contactAddressForm.homeTown&&n.contactAddressForm.homeTown.valid))),e.xp6(2),e.Q6J("ngIf",null==n.contactAddressForm.homeTown||null==n.contactAddressForm.homeTown.errors?null:n.contactAddressForm.homeTown.errors.required),e.xp6(3),e.Q6J("labelForName","Address")("labelName","Address"),e.xp6(2),e.Q6J("ngClass",e.VKq(127,v,((null==n.contactAddressForm.localAddress?null:n.contactAddressForm.localAddress.touched)||(null==n.contactAddressForm.localAddress?null:n.contactAddressForm.localAddress.dirty))&&!(null!=n.contactAddressForm.localAddress&&n.contactAddressForm.localAddress.valid))),e.xp6(3),e.Q6J("ngIf",null==n.contactAddressForm.localAddress||null==n.contactAddressForm.localAddress.errors?null:n.contactAddressForm.localAddress.errors.required),e.xp6(4),e.hij(" ","back"," "),e.xp6(2),e.Q6J("disabled",!n.contactAddressFormGroup.valid),e.xp6(1),e.hij(" ","continue"," "),e.xp6(1),e.Q6J("ngClass",e.WLB(129,b,3===n.currentStep,4===n.currentStep)),e.xp6(6),e.Q6J("formGroup",n.nokFormGroup),e.xp6(4),e.Q6J("labelForName","nextOfKin")("labelName","NOK Name"),e.xp6(2),e.Q6J("ngClass",e.VKq(132,v,((null==n.nokForm.nextOfKin?null:n.nokForm.nextOfKin.touched)||(null==n.nokForm.nextOfKin?null:n.nokForm.nextOfKin.dirty))&&!(null!=n.nokForm.nextOfKin&&n.nokForm.nextOfKin.valid))),e.xp6(2),e.Q6J("ngIf",null==n.nokForm.nextOfKin||null==n.nokForm.nextOfKin.errors?null:n.nokForm.nextOfKin.errors.required),e.xp6(3),e.Q6J("labelForName","nokPhone")("labelName","NOk Mobile No."),e.xp6(2),e.Q6J("ngClass",e.VKq(134,v,((null==n.nokForm.nokPhone?null:n.nokForm.nokPhone.touched)||(null==n.nokForm.nokPhone?null:n.nokForm.nokPhone.dirty))&&!(null!=n.nokForm.nokPhone&&n.nokForm.nokPhone.valid))),e.xp6(2),e.Q6J("ngIf",null==n.nokForm.nokPhone||null==n.nokForm.nokPhone.errors?null:n.nokForm.nokPhone.errors.required),e.xp6(1),e.Q6J("ngIf",(null==n.nokForm.nokPhone||null==n.nokForm.nokPhone.errors?null:n.nokForm.nokPhone.errors.minlength)||(null==n.nokForm.nokPhone||null==n.nokForm.nokPhone.errors?null:n.nokForm.nokPhone.errors.maxlength)),e.xp6(3),e.Q6J("labelForName","nokEmail")("labelName","NOk Email"),e.xp6(2),e.Q6J("ngClass",e.VKq(136,v,((null==n.nokForm.nokEmail?null:n.nokForm.nokEmail.touched)||(null==n.nokForm.nokEmail?null:n.nokForm.nokEmail.dirty))&&!(null!=n.nokForm.nokEmail&&n.nokForm.nokEmail.valid))),e.xp6(2),e.Q6J("ngIf",null==n.nokForm.nokEmail||null==n.nokForm.nokEmail.errors?null:n.nokForm.nokEmail.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.nokForm.nokEmail||null==n.nokForm.nokEmail.errors?null:n.nokForm.nokEmail.errors.email),e.xp6(3),e.Q6J("labelForName","relationship")("labelName","Marital Status"),e.xp6(3),e.Q6J("ngClass",e.VKq(138,v,((null==n.personalInfoForm.relationship?null:n.personalInfoForm.relationship.touched)||(null==n.personalInfoForm.relationship?null:n.personalInfoForm.relationship.dirty))&&(null==n.personalInfoForm.relationship?null:n.personalInfoForm.relationship.errors))),e.xp6(3),e.Q6J("ngForOf",n.listOfRelationship),e.xp6(2),e.Q6J("ngIf",null==n.personalInfoForm.relationship||null==n.personalInfoForm.relationship.errors?null:n.personalInfoForm.relationship.errors.required),e.xp6(1),e.Q6J("ngIf",!1),e.xp6(3),e.Q6J("labelForName","nokAddress")("showRequired",!1)("labelName","NOK Address"),e.xp6(5),e.Q6J("ngIf",n.isAddMode),e.xp6(5),e.Q6J("ngIf",!n.isAddMode),e.xp6(1),e.Q6J("ngIf",n.isAddMode))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.rS,r.UX,r._Y,r.YN,r.Kr,r.Fj,r.Wl,r.EJ,r._,r.JJ,r.JL,r.sg,r.u,T.z,r.u5,r.F,O.h,F.M,p._8,p.f,Q],encapsulation:2}),l})();var Ze=s(1456),ve=s(1085),_e=s(4874);function he(o,l){if(1&o&&(e.ynx(0),e.TgZ(1,"span",15),e._uU(2,"Institution Information"),e.qZA(),e.TgZ(3,"li")(4,"span",10),e._uU(5,"Institution Name"),e.qZA(),e._uU(6," - "),e.TgZ(7,"span",11),e._uU(8),e.qZA()(),e.TgZ(9,"li")(10,"span",10),e._uU(11,"Mobile No."),e.qZA(),e._uU(12," - "),e.TgZ(13,"span",11),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"span",10),e._uU(17,"Telephone"),e.qZA(),e._uU(18," - "),e.TgZ(19,"span",11),e._uU(20),e.qZA()(),e.TgZ(21,"li")(22,"span",10),e._uU(23,"Email"),e.qZA(),e._uU(24," - "),e.TgZ(25,"span",11),e._uU(26),e.qZA()(),e.TgZ(27,"li")(28,"span",10),e._uU(29,"Address"),e.qZA(),e._uU(30," - "),e.TgZ(31,"span",11),e._uU(32),e.qZA()(),e.TgZ(33,"span",9),e._uU(34,"Supervisor / Top Role Information"),e.qZA(),e.TgZ(35,"li")(36,"span",10),e._uU(37,"Full Name"),e.qZA(),e._uU(38," - "),e.TgZ(39,"span",11),e._uU(40),e.qZA()(),e.TgZ(41,"li")(42,"span",10),e._uU(43,"Phone No."),e.qZA(),e._uU(44," - "),e.TgZ(45,"span",11),e._uU(46),e.qZA()(),e.TgZ(47,"li")(48,"span",10),e._uU(49,"Email"),e.qZA(),e._uU(50," - "),e.TgZ(51,"span",11),e._uU(52),e.qZA()(),e.TgZ(53,"li")(54,"span",10),e._uU(55,"Email"),e.qZA(),e._uU(56," - "),e.TgZ(57,"span",11),e._uU(58),e.qZA()(),e.BQk()),2&o){const t=e.oxw();e.xp6(8),e.Oqu(t.occupant.occupantName),e.xp6(6),e.Oqu(t.occupant.mobileNo),e.xp6(6),e.Oqu(t.occupant.telephoneNumber),e.xp6(6),e.Oqu(t.occupant.emailAddress),e.xp6(6),e.Oqu(t.occupant.localAddress),e.xp6(8),e.Oqu(t.occupant.supervisorName),e.xp6(6),e.Oqu(t.occupant.supervisorMobileNo),e.xp6(6),e.Oqu(t.occupant.supervisorEmail),e.xp6(6),e.Oqu(t.occupant.supervisorAddress)}}function Ae(o,l){if(1&o&&(e.ynx(0),e.TgZ(1,"span",15),e._uU(2,"Personal Information"),e.qZA(),e.TgZ(3,"li")(4,"span",10),e._uU(5,"Full Name"),e.qZA(),e._uU(6," - "),e.TgZ(7,"span",11),e._uU(8),e.qZA()(),e.TgZ(9,"li")(10,"span",10),e._uU(11,"Gender"),e.qZA(),e._uU(12," - "),e.TgZ(13,"span",11),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"span",10),e._uU(17,"Date Of Birth"),e.qZA(),e._uU(18," - "),e.TgZ(19,"span",11),e._uU(20),e.ALo(21,"date"),e.TgZ(22,"small"),e._uU(23),e.ALo(24,"timeAgo"),e.qZA()()(),e.TgZ(25,"li")(26,"span",10),e._uU(27,"Marital Status"),e.qZA(),e._uU(28," - "),e.TgZ(29,"span",11),e._uU(30),e.ALo(31,"removeHyphen"),e.ALo(32,"titlecase"),e.qZA()(),e.TgZ(33,"li")(34,"span",10),e._uU(35,"National ID Type"),e.qZA(),e._uU(36," - "),e.TgZ(37,"span",11),e._uU(38),e.ALo(39,"removeHyphen"),e.ALo(40,"titlecase"),e.qZA()(),e.TgZ(41,"li")(42,"span",10),e._uU(43,"National ID No."),e.qZA(),e._uU(44," - "),e.TgZ(45,"span",11),e._uU(46),e.qZA()(),e.TgZ(47,"li")(48,"span",10),e._uU(49,"Occupation"),e.qZA(),e._uU(50," - "),e.TgZ(51,"span",11),e._uU(52),e.qZA()(),e.TgZ(53,"span",9),e._uU(54,"Contact & Address Information"),e.qZA(),e.TgZ(55,"li")(56,"span",10),e._uU(57,"Mobile No."),e.qZA(),e._uU(58," - "),e.TgZ(59,"span",11),e._uU(60),e.qZA()(),e.TgZ(61,"li")(62,"span",10),e._uU(63,"Telephone"),e.qZA(),e._uU(64," - "),e.TgZ(65,"span",11),e._uU(66),e.qZA()(),e.TgZ(67,"li")(68,"span",10),e._uU(69,"Email"),e.qZA(),e._uU(70," - "),e.TgZ(71,"span",11),e._uU(72),e.qZA()(),e.TgZ(73,"li")(74,"span",10),e._uU(75,"Home Town"),e.qZA(),e._uU(76," - "),e.TgZ(77,"span",11),e._uU(78),e.qZA()(),e.TgZ(79,"span",9),e._uU(80,"Next of Kin(NOK) Information"),e.qZA(),e.TgZ(81,"li")(82,"span",10),e._uU(83,"Full Name"),e.qZA(),e._uU(84," - "),e.TgZ(85,"span",11),e._uU(86),e.qZA()(),e.TgZ(87,"li")(88,"span",10),e._uU(89,"NOK Mobile No."),e.qZA(),e._uU(90," - "),e.TgZ(91,"span",11),e._uU(92),e.qZA()(),e.TgZ(93,"li")(94,"span",10),e._uU(95,"Relationship"),e.qZA(),e._uU(96," - "),e.TgZ(97,"span",11),e._uU(98),e.ALo(99,"titlecase"),e.ALo(100,"removeHyphen"),e.qZA()(),e.TgZ(101,"li")(102,"span",10),e._uU(103,"Address"),e.qZA(),e._uU(104," - "),e.TgZ(105,"span",11),e._uU(106),e.qZA()(),e.BQk()),2&o){const t=e.oxw();e.xp6(8),e.Oqu(t.occupant.occupantName),e.xp6(6),e.Oqu(t.occupant.mobileNo),e.xp6(6),e.hij("",e.lcZ(21,16,t.occupant.dateOfBirth)," ,"),e.xp6(3),e.Oqu(e.lcZ(24,18,t.occupant.dateOfBirth.toString())),e.xp6(7),e.Oqu(e.lcZ(31,20,e.lcZ(32,22,t.occupant.maritalStatus))),e.xp6(8),e.Oqu(e.lcZ(39,24,e.lcZ(40,26,t.occupant.idType))),e.xp6(8),e.Oqu(t.occupant.idNo),e.xp6(6),e.Oqu(t.occupant.occupation),e.xp6(8),e.Oqu(t.occupant.mobileNo),e.xp6(6),e.Oqu(t.occupant.telephoneNumber),e.xp6(6),e.Oqu(t.occupant.emailAddress),e.xp6(6),e.Oqu(t.occupant.localAddress),e.xp6(8),e.Oqu(t.occupant.nextOfKin),e.xp6(6),e.Oqu(t.occupant.nokPhone),e.xp6(6),e.Oqu(e.lcZ(99,28,e.lcZ(100,30,t.occupant.relationship))),e.xp6(8),e.Oqu(t.occupant.nokAddress)}}let Te=(()=>{var o;class l{constructor(a,n){this.viewOccupantBsModalRef=a,this.accountService=n,this.accountService.currentUser.subscribe(u=>this.currentUser=u)}ngOnInit(){this.viewOccupantBsModalRef.setClass("gray modal-md modal-dialog-top")}}return(o=l).\u0275fac=function(a){return new(a||o)(e.Y36(N.UZ),e.Y36(q.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-occupant-details"]],standalone:!0,features:[e.jDz],decls:51,vars:17,consts:[[1,"modal-header"],[1,"modal-title"],["type","button btn-xs","aria-label","Close",1,"close","btn-close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"card","card-no-border"],[1,"pricing-body"],[1,"pricing-features"],[4,"ngIf"],[1,"preview-title-lg","overline-title","my-2"],[1,"w-50"],[1,"ms-auto"],[1,"row","my-3","mx-2","mb-3","justify-content-end"],[1,"col-auto"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"preview-title-lg","overline-title"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"h6",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return null==n.viewOccupantBsModalRef?null:n.viewOccupantBsModalRef.hide()}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"ul",7),e.YNc(10,he,59,9,"ng-container",8),e.YNc(11,Ae,107,32,"ng-container",8),e.TgZ(12,"span",9),e._uU(13,"User activities"),e.qZA(),e.TgZ(14,"li")(15,"span",10),e._uU(16,"Created By"),e.qZA(),e._uU(17," - "),e.TgZ(18,"span",11),e._uU(19),e.qZA()(),e.TgZ(20,"li")(21,"span",10),e._uU(22,"Created Date"),e.qZA(),e._uU(23," - "),e.TgZ(24,"span",11),e._uU(25),e.ALo(26,"date"),e.TgZ(27,"small"),e._uU(28),e.ALo(29,"timeAgo"),e.qZA()()(),e.TgZ(30,"li")(31,"span",10),e._uU(32,"Last Modified By"),e.qZA(),e._uU(33," - "),e.TgZ(34,"span",11),e._uU(35),e.qZA()(),e.TgZ(36,"li")(37,"span",10),e._uU(38,"Modified Date"),e.qZA(),e._uU(39," - "),e.TgZ(40,"span",11),e._uU(41),e.ALo(42,"date"),e.TgZ(43,"small"),e._uU(44),e.ALo(45,"timeAgo"),e.qZA()()()()()()(),e.TgZ(46,"div",12)(47,"div",13)(48,"a",14),e.NdJ("click",function(){return null==n.viewOccupantBsModalRef?null:n.viewOccupantBsModalRef.hide()}),e.TgZ(49,"span"),e._uU(50,"Close"),e.qZA()()()()),2&a&&(e.xp6(2),e.hij("",n.occupant.occupantName," Details"),e.xp6(8),e.Q6J("ngIf",n.occupant.institutional),e.xp6(1),e.Q6J("ngIf",!n.occupant.institutional),e.xp6(8),e.Oqu(n.occupant.createdBy),e.xp6(6),e.hij("",e.lcZ(26,9,n.occupant.createdDate)," ,"),e.xp6(3),e.Oqu(e.lcZ(29,11,n.occupant.createdDate.toString())),e.xp6(7),e.Oqu(n.occupant.createdBy),e.xp6(6),e.hij("",e.lcZ(42,13,n.occupant.lastModifiedDate)," ,"),e.xp6(3),e.Oqu(e.lcZ(45,15,n.occupant.lastModifiedDate.toString())))},dependencies:[c.ez,c.O5,c.rS,c.uU,ve.e,_e.i],encapsulation:2}),l})();var Oe=s(2187),Ne=s(3056),Ie=s(3285),Ue=s(7467),Fe=s(3267),qe=s(9972);function Ce(o,l){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"SN"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Occupant"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Occupant Type"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Date of Birth / Reg. Date"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Email"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Mobile No."),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Address"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Properties"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Actions"),e.qZA()())}function be(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,u=e.oxw();return e.KtG(u.openInstitutionModalComponent(n,!1))}),e._UZ(2,"em",46),e.TgZ(3,"span"),e._uU(4,"Edit occupant"),e.qZA()()()}}function ye(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",7),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,u=e.oxw();return e.KtG(u.openIndividualModalComponent(n,!1))}),e._UZ(2,"em",46),e.TgZ(3,"span"),e._uU(4,"Edit occupant"),e.qZA()()()}}function ke(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"app-full-name",35),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"titlecase"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"date"),e.ALo(11,"cleanDate"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td")(22,"div",36)(23,"a",37),e._UZ(24,"em",38),e.qZA(),e.TgZ(25,"div",39)(26,"ul",40),e.YNc(27,be,5,0,"li",41),e.YNc(28,ye,5,0,"li",41),e.TgZ(29,"li")(30,"a",7),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.openViewOccupantModalComponent(u))}),e._UZ(31,"em",42),e.TgZ(32,"span"),e._uU(33,"View details"),e.qZA()()(),e._UZ(34,"li",43),e.TgZ(35,"li")(36,"a",44),e.NdJ("click",function(){const u=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteOccupant(u))}),e._UZ(37,"em",45),e.TgZ(38,"span"),e._uU(39,"Delete"),e.qZA()()()()()()()()}if(2&o){const t=l.$implicit,a=l.rowIndex;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.s9C("fullName",null==t?null:t.occupantName),e.s9C("otherFieldName",null==t?null:t.institutionalDisplayName),e.xp6(2),e.Oqu(e.lcZ(7,11,t.occupantType)),e.xp6(3),e.Oqu(e.xi3(10,13,e.lcZ(11,16,t.dateOfBirth),"mediumDate")),e.xp6(4),e.Oqu(t.emailAddress),e.xp6(2),e.Oqu(t.mobileNo),e.xp6(2),e.Oqu(t.localAddress),e.xp6(2),e.Oqu(e.lcZ(20,18,t.properties)),e.xp6(8),e.Q6J("ngIf",t.institutional),e.xp6(1),e.Q6J("ngIf",!t.institutional)}}const Me=function(){return[5,10,25,50]};let Se=(()=>{var o;class l{constructor(a,n,u,d,y,k,M,S,we,Je,Qe){this.accountService=a,this.occupantsService=n,this.alertService=u,this.utilsService=d,this.logger=y,this.addIndividualOccupantBsModalRef=k,this.addInstitutionOccupantBsModalRef=M,this.viewOccupantBsModalRef=S,this.individualOccupantModalService=we,this.institutionOccupantModalService=Je,this.spinner=Qe,this.accountService.currentUser.subscribe(De=>this.currentUser=De)}ngOnInit(){this.spinner.hide(),this.occupantType="ALL",this.startDate=this.utilsService.getFirstDayDate(),this.endDate=new Date,this.fetchOccupants()}ngOnDestroy(){this.individualOccupantModalService.hide(),i().close()}fetchOccupants(){let a=new Ne.K;a.dateRange=!0,a.startDate=this.startDate,a.endDate=this.endDate,a.occupantType=this.occupantType,this.listOfOccupants=[],this.occupantsService.searchOccupants(this.currentUser,a).subscribe({next:n=>{if(this.logger.info("searchOccupants response "+JSON.stringify(n)),"000"===n.headerResponse.responseCode)return n.occupants.length<=0?(this.alertService.showInfoMsgGeneral("No occupants found"),void this.logger.info("No occupants found")):void(this.listOfOccupants=n.occupants);this.alertService.error(n.headerResponse.responseMessage)},error:n=>{this.logger.error(n),this.alertService.showInfoMsg(n)}})}deleteOccupant(a){let n=a.occupantName;i().fire({position:"top",title:"Confirmation",text:`Do you want to delete ${n}?`,icon:"question",showCancelButton:!0,cancelButtonText:"No, cancel",confirmButtonText:"Yes, delete"}).then(u=>{u.value?this.occupantsService.deleteOccupant(this.currentUser,a.recordId).subscribe({next:d=>{this.logger.info("deleteOccupant response:"+JSON.stringify(d)),"000"===d.headerResponse.responseCode?(this.alertService.showSuccessMsg(`${n} deleted successfully`),this.addInstitutionOccupantBsModalRef.hide(),this.logAction(`Updated ${n}`,h.h.OCCUPANCY),this.accountService.reloadCurrentRoute()):this.alertService.showErrorMsg(d.headerResponse.responseMessage)},error:d=>{this.alertService.showInfoMsg(d.message)}}):i()})}openIndividualModalComponent(a,n){const u={initialState:{isAddMode:n,occupant:a}};this.individualOccupantModalService.config.ignoreBackdropClick=!0,this.individualOccupantModalService.config.animated=!0,this.addIndividualOccupantBsModalRef=this.individualOccupantModalService.show(ge,u),this.addIndividualOccupantBsModalRef.content.closeBtnName="Close"}openInstitutionModalComponent(a,n){const u={initialState:{isAddMode:n,occupant:a}};this.institutionOccupantModalService.config.ignoreBackdropClick=!0,this.institutionOccupantModalService.config.animated=!0,this.addInstitutionOccupantBsModalRef=this.institutionOccupantModalService.show(Ze.m,u),this.addInstitutionOccupantBsModalRef.content.closeBtnName="Close"}openViewOccupantModalComponent(a){const n={initialState:{occupant:a}};this.institutionOccupantModalService.config.ignoreBackdropClick=!0,this.institutionOccupantModalService.config.animated=!0,this.viewOccupantBsModalRef=this.institutionOccupantModalService.show(Te,n),this.viewOccupantBsModalRef.content.closeBtnName="Close"}logAction(a,n){var u=this;return(0,_.Z)(function*(){yield u.accountService.logUserAudit(a,n)})()}}return(o=l).\u0275fac=function(a){return new(a||o)(e.Y36(q.e),e.Y36(U.k),e.Y36(w.c),e.Y36(Ue.F),e.Y36(J.Kf),e.Y36(N.UZ),e.Y36(N.UZ),e.Y36(N.UZ),e.Y36(N.tT),e.Y36(N.tT),e.Y36(Fe.CK))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:63,vars:21,consts:[[3,"pageTitleName","description"],[1,"newItemName"],[1,"dropdown"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary"],[1,"icon","ni","ni-plus"],[1,"dropdown-menu","dropdown-menu-end","dropdown-menu-auto","mt-1"],[1,"link-list-plain"],[3,"click"],[1,"icon","ni","ni-user"],[1,"icon","ni","ni-home"],[1,"row","gy-2","gx-3","mt-5","mb-4","align-items-center"],[1,"col-sm-2"],[1,"form-group"],["for","startDate",1,"form-label","pt-0"],[1,"form-control-wrap"],[1,"form-control-select"],["id","searchBy",1,"form-control",3,"ngModel","ngModelChange"],["value","ALL","selected","",1,"fs-6"],["value","INS"],["value","IND"],[1,"col-auto"],["dateFormat","yy-mm-dd","styleClass","\u201dform-control\u201d","dateFormat","dd-mm-yy",3,"monthNavigator","yearNavigator","showIcon","ngModel","ngModelChange"],["for","endDate",1,"form-label","pt-0"],["styleClass","\u201dform-control\u201d","dateFormat","dd-mm-yy",3,"showIcon","ngModel","ngModelChange"],["type","button","title","",1,"btn","btn-dim","btn-primary","mt-4",3,"click"],[1,"btn","mt-4","btn-outline-light",3,"click"],[1,"icon","ni","ni-download"],[1,"row","gy-2","gx-3","my-3"],[1,"form-icon","form-icon-right"],[1,"icon","ni","ni-search"],["type","text","id","default-04","placeholder","Quick search",1,"form-control",3,"ngModel","ngModelChange"],["responsiveLayout","scroll","sortMode","multiple","responsiveLayout","scroll","styleClass","p-datatable-sm p-datatable-striped","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","scrollDirection","both",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","resizableColumns","autoLayout"],["dt1",""],["pTemplate","header"],["pTemplate","body"],[3,"fullName","otherFieldName"],[1,"drodown"],["data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle","btn","btn-icon","btn-light"],[1,"icon","ni","ni-more-h"],[1,"dropdown-menu","dropdown-menu-end"],[1,"link-list-opt","no-bdr"],[4,"ngIf"],[1,"icon","ni","ni-eye"],[1,"divider"],[1,"text-danger",3,"click"],[1,"icon","ni","ni-trash"],[1,"icon","ni","ni-edit"]],template:function(a,n){1&a&&(e.TgZ(0,"app-add-item",0)(1,"span",1)(2,"div",2)(3,"a",3),e._UZ(4,"em",4),e.TgZ(5,"span"),e._uU(6,"Add occupant"),e.qZA()(),e.TgZ(7,"div",5)(8,"ul",6)(9,"li")(10,"a",7),e.NdJ("click",function(){return n.openIndividualModalComponent(null,!0)}),e._UZ(11,"em",8),e._uU(12," Individual"),e.qZA()(),e.TgZ(13,"li")(14,"a",7),e.NdJ("click",function(){return n.openInstitutionModalComponent(null,!0)}),e._UZ(15,"em",9),e._uU(16," Institution"),e.qZA()()()()()()(),e.TgZ(17,"div",10)(18,"div",11)(19,"div",12)(20,"label",13),e._uU(21,"Occupant Type"),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"div",14)(24,"div",15)(25,"select",16),e.NdJ("ngModelChange",function(d){return n.occupantType=d}),e.TgZ(26,"option",17),e._uU(27,"All Occupants"),e.qZA(),e.TgZ(28,"option",18),e._uU(29,"Individual"),e.qZA(),e.TgZ(30,"option",19),e._uU(31,"Institution"),e.qZA()()()()()(),e.TgZ(32,"div",20)(33,"div",14)(34,"div",12)(35,"label",13),e._uU(36,"Start Date"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"p-calendar",21),e.NdJ("ngModelChange",function(d){return n.startDate=d}),e.qZA()()()(),e.TgZ(39,"div",11)(40,"label",22),e._uU(41,"End Date"),e.qZA(),e._UZ(42,"br"),e.TgZ(43,"p-calendar",23),e.NdJ("ngModelChange",function(d){return n.endDate=d}),e.qZA()(),e.TgZ(44,"div",20)(45,"button",24),e.NdJ("click",function(){return n.fetchOccupants()}),e._uU(46," Search "),e.qZA()(),e.TgZ(47,"div",20)(48,"a",25),e.NdJ("click",function(){return n.fetchOccupants()}),e._UZ(49,"em",26),e.TgZ(50,"span"),e._uU(51,"Export"),e.qZA()()()(),e.TgZ(52,"div",27)(53,"div",20)(54,"div",14)(55,"div",28),e._UZ(56,"em",29),e.qZA(),e.TgZ(57,"input",30),e.NdJ("ngModelChange",function(d){return n.searchedKeyword=d}),e.qZA()()()(),e.TgZ(58,"p-table",31,32),e.ALo(60,"filter"),e.YNc(61,Ce,19,0,"ng-template",33),e.YNc(62,ke,40,20,"ng-template",34),e.qZA()),2&a&&(e.Q6J("pageTitleName","Occupants")("description","State Housing occupants(individuals & institutions)"),e.xp6(25),e.Q6J("ngModel",n.occupantType),e.xp6(13),e.Q6J("monthNavigator",!0)("yearNavigator",!0)("showIcon",!0)("ngModel",n.startDate),e.xp6(5),e.Q6J("showIcon",!0)("ngModel",n.endDate),e.xp6(14),e.Q6J("ngModel",n.searchedKeyword),e.xp6(1),e.Q6J("value",e.xi3(60,17,n.listOfOccupants,n.searchedKeyword))("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(20,Me))("resizableColumns",!0)("autoLayout",!0))},dependencies:[c.ez,c.O5,c.JJ,c.rS,c.uU,r.u5,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On,p._8,p.f,qe.jx,Z.L,m.U$,m.iA,g.$,Oe.c,Ie.F],encapsulation:2}),l})()}}]);