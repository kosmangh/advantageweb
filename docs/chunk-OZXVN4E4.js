import{a as n,c as M}from"./chunk-R55IMLXW.js";import{n as w,p as F}from"./chunk-7DWKZ4XI.js";import{Kc as y,La as b,Mb as A,Sa as c,Ta as p,Uc as T,a as l,bb as u,fb as C,ib as S,la as h,nb as f,ob as a,pb as m,qa as v,ra as g,tb as x,wb as _,xb as d}from"./chunk-QRSQYA3Q.js";function E(r,i){if(r&1){let o=x();f(0,"div")(1,"a",1),_("click",function(){let s=v(o).$implicit,k=d();return g(k.removeAlert(s))}),m(2,"span",2),a(),m(3,"span",3),a()}if(r&2){let o=i.$implicit,e=d();C(e.cssClass(o)),c(3),u("innerHTML",o.message,b)}}var L=(()=>{let i=class i{constructor(e,t){this.router=e,this.alertService=t,this.id="default-alert",this.fade=!0,this.alerts=[],this.alertSubscription=new l,this.routeSubscription=new l}ngOnInit(){this.alertSubscription=this.alertService.onAlert(this.id).subscribe(e=>{if(!e.message){this.alerts=this.alerts.filter(t=>t.keepAfterRouteChange),this.alerts.forEach(t=>delete e.keepAfterRouteChange);return}this.alerts.push(e),e.autoClose&&setTimeout(()=>this.removeAlert(e),3e3)}),this.routeSubscription=this.router.events.subscribe(e=>{e instanceof w&&this.alertService.clear(this.id)})}ngOnDestroy(){this.alertSubscription.unsubscribe(),this.routeSubscription.unsubscribe()}removeAlert(e){this.alerts.includes(e)&&(this.fade?(e.fade=!0,setTimeout(()=>{this.alerts=this.alerts.filter(t=>t!==e)},250)):this.alerts=this.alerts.filter(t=>t!==e))}cssClass(e){if(!e)return;let t=["alert","alert-dismissable","mt-4","container"],s={[n.Success]:"alert alert-success",[n.Error]:"alert alert-danger",[n.Info]:"alert alert-info",[n.Warning]:"alert alert-warning"};return t.push(s[e.type]),e.fade&&t.push("fade"),t.join(" ")}};i.\u0275fac=function(t){return new(t||i)(p(F),p(M))},i.\u0275cmp=h({type:i,selectors:[["app-alert"]],inputs:{id:"id",fade:"fade"},standalone:!0,features:[A],decls:2,vars:1,consts:[[3,"class",4,"ngFor","ngForOf"],[1,"close",3,"click"],[1,"btn-close",2,"font-size","12px","margin-right","10px","color","#fff"],[1,"text-center",3,"innerHTML"]],template:function(t,s){t&1&&(f(0,"div"),S(1,E,4,4,"div",0),a()),t&2&&(c(1),u("ngForOf",s.alerts))},dependencies:[T,y],encapsulation:2});let r=i;return r})();export{L as a};
