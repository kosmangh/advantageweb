"use strict";(self.webpackChunkadvantageweb=self.webpackChunkadvantageweb||[]).push([[982],{2735:(f,_,n)=>{n.d(_,{h:()=>u});var c=n(6814),o=n(5879);function d(a,l){1&a&&(o.TgZ(0,"span")(1,"span",2),o._uU(2," * "),o.qZA()())}function r(a,l){1&a&&(o.TgZ(0,"span")(1,"span",3),o._uU(2,"(optional)"),o.qZA()())}let u=(()=>{var a;class l{constructor(){this.showRequired=!0}ngOnInit(){}}return(a=l).\u0275fac=function(m){return new(m||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-form-label"]],inputs:{labelName:"labelName",labelForName:"labelForName",showRequired:"showRequired"},standalone:!0,features:[o.jDz],decls:4,vars:4,consts:[[1,"form-label",3,"for"],[4,"ngIf"],[1,"text-danger"],[1,"sub-text-sm","text-primary"]],template:function(m,e){1&m&&(o.TgZ(0,"label",0),o._uU(1),o.YNc(2,d,3,0,"span",1),o.YNc(3,r,3,0,"span",1),o.qZA()),2&m&&(o.s9C("for",e.labelForName),o.xp6(1),o.hij(" ",e.labelName," "),o.xp6(1),o.Q6J("ngIf",e.showRequired),o.xp6(1),o.Q6J("ngIf",!e.showRequired))},dependencies:[c.ez,c.O5],encapsulation:2}),l})()},1693:(f,_,n)=>{n.d(_,{M:()=>d});var c=n(6814),o=n(5879);let d=(()=>{var r;class u{}return(r=u).\u0275fac=function(l){return new(l||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-required-field"]],standalone:!0,features:[o.jDz],decls:2,vars:0,consts:[[1,"icon","ni","ni-cross-circle","fs-12px"]],template:function(l,p){1&l&&(o._UZ(0,"em",0),o._uU(1," This field is required "))},dependencies:[c.ez],encapsulation:2}),u})()},982:(f,_,n)=>{n.r(_),n.d(_,{PasswordResetComponent:()=>U});var c=n(5861),o=n(6814),d=n(4782),r=n(95),u=n(995),a=n(7207),l=n(7651),p=n(2735),m=n(1693),e=n(5879),b=n(7177),E=n(4981);function P(i,g){1&i&&(e.TgZ(0,"div",29),e._UZ(1,"app-required-field"),e.qZA())}const C=function(i,g){return{"ni-eye-off":i,"ni-eye":g}},w=function(i){return{"is-invalid":i}},T=function(){return["/login"]};let U=(()=>{var i;class g{constructor(t,s,h,Z){this.fb=t,this.accountService=s,this.router=h,this.alertService=Z,this.accountService.currentUser.subscribe(O=>this.currentUser=O)}ngOnInit(){this.loginFormGroup=this.fb.group({password:["",{updateOn:"blur",validators:[r.kI.required]}]})}showPassword(){this.show=!this.show}get loginForm(){return this.loginFormGroup.controls}onSubmit(){this.alertService.clear(),this.submitted=!0,this.loginFormGroup.valid&&this.accountService.resetPassword(this.currentUser,this.loginFormGroup.value.password).subscribe({next:t=>{if(console.info("login response "+JSON.stringify(t)),"000"!==t.headerResponse.responseCode)return this.alertService.error(t.headerResponse.responseMessage),this.submitted=!1,void this.accountService.logout();this.logAction("Logged in",u.h.LOGIN),this.router.navigate("NEW"===t.status||"RESET"===t.status?["/reset"]:["/dashboard"])},error:t=>{this.alertService.error(t),this.submitted=!1}})}logAction(t,s){var h=this;return(0,c.Z)(function*(){yield h.accountService.logAction(t,s)})()}}return(i=g).\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(b.e),e.Y36(d.F0),e.Y36(E.c))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:39,vars:14,consts:[[1,"nk-app-root"],[1,"nk-main"],[1,"nk-wrap","nk-wrap-nosidebar"],[1,"nk-content"],[1,"nk-block","nk-block-middle","nk-auth-body","wide-xs"],[1,"mb-2"],[1,"card","card-bordered"],[1,"card-inner","card-inner-lg"],[1,"brand-logo","pb-4","text-center"],[1,"logo-link"],["src","assets/images/logo.png","alt","logo",1,"logo-img","logo-img-lg"],[1,"nk-block-head","mb-3"],[1,"nk-block-head-content"],[1,"nk-block-title","text-center"],[1,"nk-block-title","text-center","text-primary"],[1,"nk-block-des","text-center"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group"],[3,"labelForName","labelName"],[1,"form-control-wrap"],["data-target","password",1,"form-icon","form-icon-right","passcode-switch",3,"click"],[1,"passcode-icon","icon-show","icon","ni","ni-eye",3,"ngClass"],["formControlName","password","id","password","placeholder","Enter your password",1,"form-control",3,"type","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"form-group","mt-4"],[1,"btn","btn-lg","btn-primary","btn-block"],[1,"form-note-s2","pt-4","text-center"],[3,"routerLink"],[1,"text-center","mt-5"],[1,"invalid-feedback"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"app-alert",5),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"a",9),e._UZ(10,"img",10),e.qZA()(),e.TgZ(11,"div",11)(12,"div",12)(13,"h5",13),e._uU(14,"Advantage Pro"),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"h5",14),e._uU(17,"Password reset"),e.qZA(),e.TgZ(18,"div",15)(19,"p"),e._uU(20,"Set your password with the temporary password shared with you"),e.qZA()()()(),e.TgZ(21,"form",16),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(22,"div",17),e._UZ(23,"app-form-label",18),e.TgZ(24,"div",19)(25,"a",20),e.NdJ("click",function(){return s.showPassword()}),e._UZ(26,"em",21),e.qZA(),e._UZ(27,"input",22),e.YNc(28,P,2,0,"div",23),e.qZA()(),e.TgZ(29,"div",24)(30,"button",25),e._uU(31,"Reset password"),e.qZA()()(),e._UZ(32,"br"),e.TgZ(33,"div",26),e._uU(34," Change your mind? "),e.TgZ(35,"a",27),e._uU(36,"Login"),e.qZA()(),e.TgZ(37,"div",28),e._UZ(38,"app-copy-right"),e.qZA()()()()()()()()),2&t&&(e.xp6(21),e.Q6J("formGroup",s.loginFormGroup),e.xp6(2),e.Q6J("labelForName","password")("labelName","Password"),e.xp6(3),e.Q6J("ngClass",e.WLB(8,C,!s.show,s.show)),e.xp6(1),e.Q6J("type",s.show?"text":"password")("ngClass",e.VKq(11,w,(s.loginForm.password.touched||s.loginForm.password.dirty||s.submitted)&&s.loginForm.password.errors)),e.xp6(1),e.Q6J("ngIf",null==s.loginForm.password.errors?null:s.loginForm.password.errors.required),e.xp6(7),e.Q6J("routerLink",e.DdM(13,T)))},dependencies:[o.ez,o.mk,o.O5,r.u5,r._Y,r.Fj,r.JJ,r.JL,r.UX,r.sg,r.u,l.w,d.Bz,d.rH,p.h,a.N,m.M],encapsulation:2}),g})()}}]);