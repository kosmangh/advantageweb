<form novalidate [formGroup]="paymentFormGroup">
    <div class="modal-header">
        <h6 class="modal-title">{{propertyChargeHeaderMsg | titlecase}}</h6>
        <button type="button btn-xs" class="close btn-close pull-right" aria-label="Close"
            (click)="addPaymentBsModalRef?.hide()">
            <span aria-hidden="true" class="visually-hidden">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="p-10" *ngIf="false">
            <br />Dirty: {{ paymentFormGroup.dirty }}
            <br />Touched: {{ paymentFormGroup.touched }}
            <br />Valid: {{ paymentFormGroup.valid }}
            <br />Value: {{ paymentFormGroup.value | json }}
        </div>

        <app-required-fields-notice />
        <div class="row gy-3 mt-3">
            <div class="col-sm-6">
                <div class="form-group">
                    <app-form-label [labelForName]="'payerName'" [labelName]="'Payer'" />
                    <div class="form-control-wrap">
                        <input type="text" formControlName="payerName" class="form-control" id="payerName"
                            autocomplete="off" />
                    </div>
                </div>
            </div>
          
            <div class="col-sm-6">
                <div class="form-group">
                    <app-form-label [labelForName]="'receiptNumber'" [labelName]="'Receipt No.'" />
                    <div class="form-control-wrap">
                        <input type="number" formControlName="receiptNumber" class="form-control" id="receiptNumber"
                            autocomplete="off" style="min-height: 40px"
                            [ngClass]="{ 'is-invalid': (  paymentForm.receiptNumber ?.touched ||  paymentForm.receiptNumber ?.dirty || submitted) && paymentForm.receiptNumber ?.errors  }" />
            
                        <span class="invalid-feedback">
                            <div *ngIf=" paymentForm.receiptNumber ?.errors?.required">
                                <app-required-field />
                            </div>
                        </span>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <app-form-label [labelForName]="'dateOfTransaction'" [labelName]="'Date of Payment'" />
                    <p-calendar styleClass="w-100" formControlName="dateOfTransaction" id="dateOfTransaction" dateFormat="dd-mm-yy"
                        [showIcon]="true"
                        [ngClass]="{ 'is-invalid': (  paymentForm.dateOfTransaction ?.touched ||  paymentForm.dateOfTransaction ?.dirty || submitted) &&  paymentForm.dateOfTransaction ?.errors  }" />
                    <span class="invalid-feedback">
                        <span *ngIf="paymentForm.dateOfTransaction?.errors?.required">
                            <app-required-field />
                        </span>
                    </span>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <app-form-label [labelForName]="'modeOfPayment'" [labelName]="'Mode Of Payment'" />
                    <div class="form-control-wrap">
                        <div class="form-control-select">
                            <select id="regionId" formControlName="modeOfPayment" class="form-control"
                                (change)="modeOfPaymentListeners()"
                                [ngClass]="{ 'is-invalid': ( paymentForm.modeOfPayment?.touched || paymentForm.modeOfPayment?.dirty || submitted) && paymentForm.modeOfPayment?.errors  }">
                                <option value="" class="fs-6" selected>Select One</option>
                                <option *ngFor="let data of listOfModeOfPayments" [value]="data.dataValue">
                                    {{data.dataLabel}}
                                </option>
                            </select>
                            <span class="invalid-feedback">
                                <div *ngIf="paymentForm.modeOfPayment?.errors?.required">
                                    <app-required-field />
                                </div>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <app-form-label [labelForName]="'modeOfPaymentNo'" [labelName]="'Mode Of Payment No.'" />
                    <div class="form-control-wrap">
                        <input type="number" formControlName="modeOfPaymentNo" class="form-control" id="modeOfPaymentNo"
                            autocomplete="off"
                            [ngClass]="{ 'is-invalid': (  paymentForm.modeOfPaymentNo ?.touched ||  paymentForm.modeOfPaymentNo ?.dirty || submitted) &&  paymentForm.modeOfPaymentNo ?.errors  }" />
                        <span class="invalid-feedback">
                            <div *ngIf=" paymentForm.modeOfPaymentNo ?.errors?.required">
                                <app-required-field />
                            </div>
                        </span>
                    </div>
                </div>
            </div>

          
            <div class="col-sm-6">
                <div class="form-group">
                    <app-form-label [labelForName]="'amountInvolved'" [labelName]="'Amount'" />
                    <div class="form-control-wrap">
                        <input type="number" formControlName="amountInvolved" class="form-control" id="amountInvolved"
                            autocomplete="off" style="min-height: 40px"
                            [ngClass]="{ 'is-invalid': (  paymentForm.amountInvolved ?.touched ||  paymentForm.amountInvolved ?.dirty || submitted) && paymentForm.amountInvolved ?.errors  }" />

                        <span class="invalid-feedback">
                            <div *ngIf=" paymentForm.amountInvolved ?.errors?.required">
                                <app-required-field />
                            </div>
                        </span>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="row my-3 mx-2 mb-3 justify-content-end">
        <div class="col-auto">
            <button class="btn btn-outline-light btn-sm" data-bs-dismiss="modal" (click)="addPaymentBsModalRef?.hide()">
                Close
            </button>
        </div>
        <div class="col-auto" *ngIf="!isAddMode">
            <button class="btn btn-primary btn-sm" (click)="updatePayment()">
                Update {{selectedOccupant.paymentType | titlecase | removeHyphen}}
            </button>
        </div>
        <div class="col-auto" *ngIf="isAddMode">
            <button class="btn btn-primary btn-sm text-capitalize" (click)="savePayment()">
                Pay {{selectedOccupant.paymentType | titlecase | removeHyphen}}
            </button>
        </div>
    </div>
</form>