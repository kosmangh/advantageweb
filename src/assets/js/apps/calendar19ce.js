"use strict";!function(u,g){g(window),g("body"),u.Break;u.Calendar=function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear(),i=new Date(e),i=(i.setDate(e.getDate()+1),String(i.getDate()).padStart(2,"0"),String(i.getMonth()+1).padStart(2,"0"),i.getFullYear(),new Date(e)),e=(i.setDate(e.getDate()-1),String(i.getDate()).padStart(2,"0")),d=String(i.getMonth()+1).padStart(2,"0"),r=n+"-"+a,i=i.getFullYear()+"-"+d+"-"+e,d=n+"-"+a+"-"+t,v=["January","February","March","April","May","June","July","August","September","October","November","December"],e=document.getElementById("calendar"),n=(document.getElementById("externalEvents"),document.getElementById("removeEvent"),g("#addEvent")),o=(g("#addEventForm"),g("#addEventPopup")),a=g("#updateEvent"),p=g("#editEventForm"),s=g("#editEventPopup"),m=g("#previewEventPopup"),t=g("#deleteEvent"),l=u.Win.width<u.Break.md,c=new FullCalendar.Calendar(e,{timeZone:"UTC",initialView:l?"listWeek":"dayGridMonth",themeSystem:"bootstrap",headerToolbar:{left:"title prev,next",center:null,right:"today dayGridMonth,timeGridWeek,timeGridDay,listWeek"},height:800,contentHeight:780,aspectRatio:3,editable:!0,droppable:!0,views:{dayGridMonth:{dayMaxEventRows:2}},direction:u.State.isRTL?"rtl":"ltr",nowIndicator:!0,now:d+"T09:25:00",eventDragStart:function(e){g(".popover").popover("hide")},eventMouseEnter:function(e){g(e.el).popover({template:'<div class="popover"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',title:e.event._def.title,content:e.event._def.extendedProps.description,placement:"top"}),e.event._def.extendedProps.description?g(e.el).popover("show"):g(e.el).popover("hide")},eventMouseLeave:function(e){g(e.el).popover("hide")},eventClick:function(e){var t=e.event._def.title,a=e.event._def.extendedProps.description,n=e.event._instance.range.start,i=n.getFullYear()+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0"),d=n.toUTCString().split(" "),r=(d="00:00:00"==(d=d[d.length-2])?"":d,e.event._instance.range.end),s=r.getFullYear()+"-"+String(r.getMonth()+1).padStart(2,"0")+"-"+String(r.getDate()).padStart(2,"0"),o=r.toUTCString().split(" "),l=(o="00:00:00"==(o=o[o.length-2])?"":o,e.event._def.ui.classNames[0].slice(3)),e=e.event._def.publicId,i=(g("#edit-event-title").val(t),g("#edit-event-start-date").val(i).datepicker("update"),g("#edit-event-end-date").val(s).datepicker("update"),g("#edit-event-start-time").val(d),g("#edit-event-end-time").val(o),g("#edit-event-description").val(a),g("#edit-event-theme").val(l),g("#edit-event-theme").trigger("change.select2"),p.attr("data-id",e),String(n.getDate()).padStart(2,"0")+" "+v[n.getMonth()]+" "+n.getFullYear()+(d?" - "+h(d):"")),s=String(r.getDate()).padStart(2,"0")+" "+v[r.getMonth()]+" "+r.getFullYear()+(o?" - "+h(o):"");g("#preview-event-title").text(t),g("#preview-event-header").addClass("fc-"+l),g("#preview-event-start").text(i),g("#preview-event-end").text(s),g("#preview-event-description").text(a),a||g("#preview-event-description-check").css("display","none"),m.modal("show"),g(".popover").popover("hide")},events:[{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Reader will be distracted",start:r+"-03T13:30:00",className:"fc-event-danger",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Rabfov va hezow.",start:r+"-14T13:30:00",end:r+"-14",className:"fc-event-success",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"The leap into electronic",start:r+"-05",end:r+"-06",className:"fc-event-primary",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Lorem Ipsum passage - Product Release",start:r+"-02",end:r+"-04",className:"fc-event-primary",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{title:"Gibmuza viib hepobe.",start:r+"-12",end:r+"-10",className:"fc-event-pink-dim",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Jidehse gegoj fupelone.",start:r+"-07T16:00:00",className:"fc-event-danger-dim",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Ke uzipiz zip.",start:r+"-16T16:00:00",end:r+"-14",className:"fc-event-info-dim",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Piece of classical Latin literature",start:d,end:d+"-01",className:"fc-event-primary",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Nogok kewwib ezidbi.",start:d+"T10:00:00",className:"fc-event-info",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Mifebi ik cumean.",start:d+"T14:30:00",className:"fc-event-warning-dim",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Play Time",start:d+"T17:30:00",className:"fc-event-info",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"Rujfogve kabwih haznojuf.",start:i+"T05:00:00",className:"fc-event-danger",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."},{id:"default-event-id-"+Math.floor(9999999*Math.random()),title:"simply dummy text of the printing",start:i+"T07:00:00",className:"fc-event-primary-dim",description:"Use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden."}]});function h(e){return 1<(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length&&((e=e.slice(1)).pop(),e[5]=+e[0]<12?" AM":" PM",e[0]=+e[0]%12||12),e=e.join("")}c.render(),n.on("click",function(e){e.preventDefault();var e=g("#event-title").val(),t=g("#event-start-date").val(),a=g("#event-end-date").val(),n=g("#event-start-time").val(),i=g("#event-end-time").val(),d=g("#event-description").val(),r=g("#event-theme").val(),s=n?"T"+n+"Z":"",i=i?"T"+i+"Z":"";console.log(n),c.addEvent({id:"added-event-id-"+Math.floor(9999999*Math.random()),title:e,start:t+s,end:a+i,className:"fc-"+r,description:d}),o.modal("hide")}),a.on("click",function(e){e.preventDefault();var e=g("#edit-event-title").val(),t=g("#edit-event-start-date").val(),a=g("#edit-event-end-date").val(),n=g("#edit-event-start-time").val(),i=g("#edit-event-end-time").val(),d=g("#edit-event-description").val(),r=g("#edit-event-theme").val(),n=n?"T"+n+"Z":"",i=i?"T"+i+"Z":"";c.getEventById(p[0].dataset.id).remove(),c.addEvent({id:p[0].dataset.id,title:e,start:t+n,end:a+i,className:"fc-"+r,description:d}),s.modal("hide")}),t.on("click",function(e){e.preventDefault(),c.getEventById(p[0].dataset.id).remove()}),u.Select2(".select-calendar-theme",{templateResult:function(e){return e.id?g('<span class="fc-'+e.element.value+'"> <span class="dot"></span>'+e.text+"</span>"):e.text}}),o.on("hidden.bs.modal",function(e){setTimeout(function(){g("#addEventForm input,#addEventForm textarea").val(""),g("#event-theme").val("event-primary"),g("#event-theme").trigger("change.select2")},1e3)}),m.on("hidden.bs.modal",function(e){g("#preview-event-header").removeClass().addClass("modal-header")})},u.coms.docReady.push(u.Calendar)}(NioApp,jQuery);