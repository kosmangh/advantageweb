import { Inject, Injectable } from '@angular/core';
import { HTTP_CACHE_CONFIG } from './cache-config';
import * as i0 from "@angular/core";
export class TTLManager extends Map {
}
export class DefaultTTLManager extends TTLManager {
    constructor(config) {
        super();
        this.config = config;
    }
    isValid(key) {
        return this.get(key) > new Date().getTime();
    }
    set(key, ttl) {
        return super.set(key, new Date().setMilliseconds(ttl || this.config.ttl));
    }
}
DefaultTTLManager.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.10", ngImport: i0, type: DefaultTTLManager, deps: [{ token: HTTP_CACHE_CONFIG }], target: i0.ɵɵFactoryTarget.Injectable });
DefaultTTLManager.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "14.2.10", ngImport: i0, type: DefaultTTLManager });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.10", ngImport: i0, type: DefaultTTLManager, decorators: [{
            type: Injectable
        }], ctorParameters: function () { return [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [HTTP_CACHE_CONFIG]
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHRsLW1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ25lYXQvY2FzaGV3L3NyYy9saWIvdHRsLW1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLGlCQUFpQixFQUFtQixNQUFNLGdCQUFnQixDQUFDOztBQUVwRSxNQUFNLE9BQWdCLFVBQVcsU0FBUSxHQUFtQjtDQUUzRDtBQUdELE1BQU0sT0FBTyxpQkFBa0IsU0FBUSxVQUFVO0lBQy9DLFlBQStDLE1BQXVCO1FBQ3BFLEtBQUssRUFBRSxDQUFDO1FBRHFDLFdBQU0sR0FBTixNQUFNLENBQWlCO0lBRXRFLENBQUM7SUFFRCxPQUFPLENBQUMsR0FBVztRQUNqQixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMvQyxDQUFDO0lBRUQsR0FBRyxDQUFDLEdBQVcsRUFBRSxHQUFXO1FBQzFCLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxlQUFlLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM1RSxDQUFDOzsrR0FYVSxpQkFBaUIsa0JBQ1IsaUJBQWlCO21IQUQxQixpQkFBaUI7NEZBQWpCLGlCQUFpQjtrQkFEN0IsVUFBVTs7MEJBRUksTUFBTTsyQkFBQyxpQkFBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEhUVFBfQ0FDSEVfQ09ORklHLCBIdHRwQ2FjaGVDb25maWcgfSBmcm9tICcuL2NhY2hlLWNvbmZpZyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUVExNYW5hZ2VyIGV4dGVuZHMgTWFwPHN0cmluZywgbnVtYmVyPiB7XG4gIGFic3RyYWN0IGlzVmFsaWQoa2V5OiBzdHJpbmcpOiBib29sZWFuO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGVmYXVsdFRUTE1hbmFnZXIgZXh0ZW5kcyBUVExNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoQEluamVjdChIVFRQX0NBQ0hFX0NPTkZJRykgcHJpdmF0ZSBjb25maWc6IEh0dHBDYWNoZUNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBpc1ZhbGlkKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KGtleSkhID4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxuICBzZXQoa2V5OiBzdHJpbmcsIHR0bDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHN1cGVyLnNldChrZXksIG5ldyBEYXRlKCkuc2V0TWlsbGlzZWNvbmRzKHR0bCB8fCB0aGlzLmNvbmZpZy50dGwpKTtcbiAgfVxufVxuIl19